<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Ù…Ù†Ø´Ø¦ Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø´Ø®ØµÙŠØ§Øª</title>
<style>
        /* --- Fonts --- */
        @font-face {
            font-family: 'Ouhod';
            /* Make sure the path is correct relative to the HTML file */
            /* src: url('Ouhod.ttf') format('truetype'); */
            /* Using a common Arabic font as a fallback/example */
            font-family: 'Cairo', sans-serif; /* Using Cairo as a common fallback */
        }

        /* --- Base Styles & Reset --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Ouhod', 'Cairo', Tahoma, sans-serif; /* Apply font */
        }

        body {
            background-color: #f4f7f6; /* Light background for the page */
            color: #333;
            line-height: 1.6;
        }

        /* --- Layout --- */
        .container {
            max-width: 900px; /* Adjusted max-width for better readability */
            margin: 20px auto; /* Added top/bottom margin */
            padding: 20px;
            background-color: #e9ecef; /* Slightly different background for container */
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }

        h1 {
            text-align: center;
            color: #0984e3; /* Blue color for main heading */
            margin-bottom: 25px;
        }

        h2 {
            color: #34495e; /* Darker blue-gray for section headings */
            border-bottom: 2px solid #0984e3;
            padding-bottom: 8px;
            margin-bottom: 20px;
        }

        /* --- Sections & Fields --- */
        .section {
            margin-bottom: 30px;
            padding: 25px;
            background: #fff; /* White background for sections */
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.08);
            border: 1px solid #ddd; /* Subtle border */
        }

        .field {
            margin-bottom: 18px;
        }

        .field label {
            display: block;
            margin-bottom: 6px;
            font-weight: bold;
            color: #555; /* Slightly lighter label color */
        }

        .field select,
        .field input[type="text"],
        .field input[type="number"],
        .field textarea {
            width: 100%;
            padding: 10px; /* Slightly larger padding */
            border: 1px solid #ccc; /* Slightly darker border */
            border-radius: 5px;
            font-size: 1rem; /* Ensure consistent font size */
            transition: border-color 0.2s ease-in-out;
        }

        .field select:focus,
        .field input:focus,
        .field textarea:focus {
            outline: none;
            border-color: #0984e3; /* Highlight focus */
            box-shadow: 0 0 0 2px rgba(9, 132, 227, 0.2);
        }

        .field textarea {
            min-height: 80px; /* Ensure textarea has some height */
            resize: vertical; /* Allow vertical resizing */
        }

        /* --- Input Group for Suggestions --- */
        .input-group {
            position: relative;
            display: flex;
            gap: 8px; /* Slightly more gap */
            align-items: center; /* Align items vertically */
        }

        .input-group input {
             flex-grow: 1; /* Allow input to take available space */
        }

        .suggest-btn {
            padding: 8px 10px; /* Adjust padding */
            background: #6c757d; /* Bootstrap secondary color */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            min-width: 40px; /* Ensure button size */
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease;
        }

        .suggest-btn:hover {
            background: #5a6268;
        }

        .suggest-btn svg {
            width: 18px; /* Adjusted size */
            height: 18px;
            stroke: white;
        }
        .suggest-btn span { /* Style for emoji button */
             font-size: 1.2em;
             line-height: 1;
        }

        /* --- Suggestions Dropdown --- */
        .suggestions {
            position: absolute;
            top: calc(100% + 5px); /* Position below the input group */
            left: 0;
            right: 0; /* Span full width */
            background: white;
            border: 1px solid #ccc;
            border-radius: 5px;
            z-index: 100;
            max-height: 200px;
            overflow-y: auto;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .suggestion-item {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #eee; /* Separator */
            font-size: 0.95rem;
        }
         .suggestion-item:last-child {
             border-bottom: none;
         }

        .suggestion-item:hover {
            background: #f0f8ff; /* Light blue hover */
            color: #0984e3;
        }

        /* --- Buttons --- */
        .buttons {
            display: flex;
            flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
            gap: 10px;
            justify-content: center; /* Center buttons */
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #ddd; /* Separator line */
        }

        button {
            padding: 10px 18px; /* Adjust padding */
            border: none;
            border-radius: 5px;
            background: #0984e3; /* Primary blue */
            color: white;
            cursor: pointer;
            font-size: 0.95rem;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }

        button:hover {
            background: #0873c4; /* Darker blue */
            transform: translateY(-1px); /* Subtle lift effect */
        }
         button:active {
            transform: translateY(0px); /* Press effect */
         }

        /* Specific button colors */
        button[type="reset"] {
            background-color: #dc3545; /* Red for reset */
        }
        button[type="reset"]:hover {
            background-color: #c82333;
        }
        button[onclick^="save"], button[onclick^="load"] {
            background-color: #28a745; /* Green for save/load */
        }
        button[onclick^="save"]:hover, button[onclick^="load"]:hover {
             background-color: #218838;
        }
        button[onclick^="copy"], button[onclick^="export"] {
             background-color: #ffc107; /* Yellow for copy/export */
             color: #333;
        }
         button[onclick^="copy"]:hover, button[onclick^="export"]:hover {
              background-color: #e0a800;
         }


        /* --- Output Area --- */
        #generatedPrompt {
            width: 100%;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #e9ecef; /* Match container background */
            font-family: monospace, 'Courier New', Courier; /* Monospace for prompt */
            font-size: 0.9rem;
            min-height: 150px; /* Ensure decent height */
            resize: vertical;
            white-space: pre-wrap; /* Preserve line breaks */
        }
    </style>
</head>
<body>
<div class="container">
<h1>Ù…Ù†Ø´Ø¦ Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø´Ø®ØµÙŠØ§Øª</h1>
<form id="characterForm">
<!-- ========================== -->
<!-- Section 1: Character Description -->
<!-- ========================== -->
<div class="section">
<h2>1. ÙˆØµÙ Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</h2>
<div class="field">
<label for="name">Ø§Ù„Ø§Ø³Ù…:</label> <!-- Added 'for' attribute -->
<div class="input-group">
<input id="name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø´Ø®ØµÙŠØ©" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('name')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø£Ø³Ù…Ø§Ø¡" type="button">
<!-- Feather icon: User Plus -->
<svg fill="none" height="18" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" x2="20" y1="8" y2="14"></line><line x1="23" x2="17" y1="11" y2="11"></line></svg>
</button>
</div>
</div>
<div class="field">
<label for="age">Ø§Ù„Ø¹Ù…Ø±:</label>
<input id="age" max="200" min="0" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù…Ø± Ø§Ù„Ø´Ø®ØµÙŠØ©" type="number"/>
</div>
<div class="field">
<label for="gender">Ø§Ù„Ø¬Ù†Ø³:</label>
<select id="gender">
<option disabled="" selected="" value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³ --</option>
<option value="Ø°ÙƒØ±">Ø°ÙƒØ±</option>
<option value="Ø£Ù†Ø«Ù‰">Ø£Ù†Ø«Ù‰</option>
<option value="ØºÙŠØ± Ù…Ø­Ø¯Ø¯">ØºÙŠØ± Ù…Ø­Ø¯Ø¯</option>
</select>
</div>
<div class="field">
<label for="bodyType">Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø³Ù…:</label>
<div class="input-group">
<input id="bodyType" placeholder="Ù…Ø«Ø§Ù„: Ø±ÙŠØ§Ø¶ÙŠØŒ Ù†Ø­ÙŠÙØŒ Ù…Ù…ØªÙ„Ø¦ØŒ Ù…ØªÙˆØ³Ø·" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('bodyType')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø³Ù…" type="button">
<span>ğŸ‹ï¸</span> <!-- Emoji for body type -->
</button>
</div>
</div>
<div class="field">
<label for="expression">ØªØ¹Ø¨ÙŠØ±Ø§Øª Ø§Ù„ÙˆØ¬Ù‡:</label>
<div class="input-group">
<input id="expression" placeholder="Ù…Ø«Ø§Ù„: Ø³Ø¹ÙŠØ¯ØŒ Ø­Ø²ÙŠÙ†ØŒ ØºØ§Ø¶Ø¨ØŒ Ù…ØªÙØ§Ø¬Ø¦ØŒ Ù‡Ø§Ø¯Ø¦" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('expression')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª ØªØ¹Ø§Ø¨ÙŠØ±" type="button">
<span>ğŸ˜Š</span> <!-- Emoji for expression -->
</button>
</div>
</div>
</div>
<!-- ========================== -->
<!-- Section 1.5: Appearance Details -->
<!-- ========================== -->
<div class="section">
<h2>2. ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¸Ù‡Ø±</h2>
<div class="field">
<label for="hairColor">Ù„ÙˆÙ† Ø§Ù„Ø´Ø¹Ø±:</label>
<div class="input-group">
<input id="hairColor" placeholder="Ø£Ø¯Ø®Ù„ Ù„ÙˆÙ† Ø§Ù„Ø´Ø¹Ø±" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('hairColor')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„ÙˆÙ† Ø§Ù„Ø´Ø¹Ø±" type="button">
<span>ğŸ¨</span> <!-- Emoji for color -->
</button>
</div>
</div>
<div class="field">
<label for="hairStyle">Ø·ÙˆÙ„ Ø§Ù„Ø´Ø¹Ø± ÙˆØªØµÙÙŠÙÙ‡:</label>
<div class="input-group">
<input id="hairStyle" placeholder="Ù…Ø«Ø§Ù„: Ø·ÙˆÙŠÙ„ ÙˆÙ…Ù…ÙˆØ¬ØŒ Ù‚ØµÙŠØ± ÙˆØ£Ù…Ù„Ø³ØŒ Ø£ØµÙ„Ø¹ØŒ Ø¶ÙØ§Ø¦Ø±" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('hairStyle')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª ØªØµÙÙŠÙØ§Øª" type="button">
<span>ğŸ’‡</span> <!-- Emoji for hairstyle -->
</button>
</div>
</div>
<div class="field">
<label for="eyeColor">Ù„ÙˆÙ† Ø§Ù„Ø¹ÙŠÙ†:</label>
<div class="input-group">
<input id="eyeColor" placeholder="Ø£Ø¯Ø®Ù„ Ù„ÙˆÙ† Ø§Ù„Ø¹ÙŠÙ†" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('eyeColor')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„ÙˆÙ† Ø§Ù„Ø¹ÙŠÙ†" type="button">
<span>ğŸ‘ï¸</span> <!-- Emoji for eye -->
</button>
</div>
</div>
<div class="field">
<label for="facialFeatures">Ù…Ù„Ø§Ù…Ø­ ÙˆØ¬Ù‡ Ù…Ù…ÙŠØ²Ø©:</label>
<textarea id="facialFeatures" placeholder="Ù…Ø«Ø§Ù„: Ù†Ø¯Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø¯ØŒ Ø´Ø§Ù…Ø© ÙÙˆÙ‚ Ø§Ù„Ø´ÙØ©ØŒ Ù†Ø¸Ø§Ø±Ø§ØªØŒ Ù„Ø­ÙŠØ©ØŒ ØªØ¬Ø§Ø¹ÙŠØ¯"></textarea>
</div>
</div>
<!-- ========================== -->
<!-- Section 2: Clothing -->
<!-- ========================== -->
<div class="section">
<h2>3. Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ ÙˆØ§Ù„Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</h2>
<div class="field">
<label for="clothingType">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:</label>
<div class="input-group">
<input id="clothingType" placeholder="Ù…Ø«Ø§Ù„: Ù‚Ù…ÙŠØµ ÙˆØ¨Ù†Ø·Ù„ÙˆÙ†ØŒ ÙØ³ØªØ§Ù†ØŒ Ø²ÙŠ Ø±Ø³Ù…ÙŠØŒ Ø¯Ø±Ø¹" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('clothingType')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù…Ù„Ø§Ø¨Ø³" type="button">
<span>ğŸ‘•</span> <!-- Emoji for clothing -->
</button>
</div>
</div>
<div class="field">
<label for="clothingColor">Ù„ÙˆÙ† Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ Ø§Ù„Ø³Ø§Ø¦Ø¯:</label>
<div class="input-group">
<input id="clothingColor" placeholder="Ø£Ø¯Ø®Ù„ Ù„ÙˆÙ† Ø§Ù„Ù…Ù„Ø§Ø¨Ø³" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('clothingColor')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø£Ù„ÙˆØ§Ù†" type="button">
<span>ğŸ¨</span>
</button>
</div>
</div>
<div class="field">
<label for="accessories">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©:</label>
<textarea id="accessories" placeholder="Ù…Ø«Ø§Ù„: Ù‚Ø¨Ø¹Ø©ØŒ ÙˆØ´Ø§Ø­ØŒ Ø­Ù‚ÙŠØ¨Ø©ØŒ Ø³Ø§Ø¹Ø© ÙŠØ¯ØŒ Ù…Ø¬ÙˆÙ‡Ø±Ø§ØªØŒ Ø³Ù„Ø§Ø­"></textarea>
</div>
</div>
<!-- ========================== -->
<!-- Section 3: Scene Description -->
<!-- ========================== -->
<div class="section">
<h2>4. ÙˆØµÙ Ø§Ù„Ù…Ø´Ù‡Ø¯</h2>
<div class="field">
<label for="location">Ø§Ù„Ù…ÙˆÙ‚Ø¹:</label>
<div class="input-group">
<input id="location" placeholder="Ù…Ø«Ø§Ù„: ØºØ§Ø¨Ø© ÙƒØ«ÙŠÙØ©ØŒ Ø´Ø§Ø±Ø¹ Ù…Ø¯ÙŠÙ†Ø© Ù…Ø²Ø¯Ø­Ù…ØŒ Ù‚ØµØ± Ù…Ù‡Ø¬ÙˆØ±ØŒ Ø´Ø§Ø·Ø¦ Ø§Ù„Ø¨Ø­Ø±" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('location')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù…ÙˆØ§Ù‚Ø¹" type="button">
<span>ğŸ“</span> <!-- Emoji for location -->
</button>
</div>
</div>
<div class="field">
<label for="time">Ø§Ù„ÙˆÙ‚Øª Ù…Ù† Ø§Ù„ÙŠÙˆÙ…:</label>
<div class="input-group">
<input id="time" placeholder="Ù…Ø«Ø§Ù„: ØµØ¨Ø§Ø­ Ø¨Ø§ÙƒØ±ØŒ Ù…Ù†ØªØµÙ Ø§Ù„Ù†Ù‡Ø§Ø±ØŒ ØºØ±ÙˆØ¨ Ø§Ù„Ø´Ù…Ø³ØŒ Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('time')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„ÙˆÙ‚Øª" type="button">
<span>ğŸ•’</span> <!-- Emoji for time -->
</button>
</div>
</div>
<div class="field">
<label for="weather">Ø§Ù„Ø·Ù‚Ø³/Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø©:</label>
<div class="input-group">
<input id="weather" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø´Ù…Ø³ØŒ ØºØ§Ø¦Ù…ØŒ Ù…Ù…Ø·Ø±ØŒ Ø¶Ø¨Ø§Ø¨ÙŠØŒ Ø¥Ø¶Ø§Ø¡Ø© Ø®Ø§ÙØªØ©ØŒ Ø¶ÙˆØ¡ Ø´Ù…ÙˆØ¹" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('weather')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø·Ù‚Ø³" type="button">
<span>â˜€ï¸</span> <!-- Emoji for weather -->
</button>
</div>
</div>
<div class="field">
<label for="actions">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡/Ø§Ù„ÙˆØ¶Ø¹ÙŠØ©:</label>
<textarea id="actions" placeholder="Ù…Ø§Ø°Ø§ ØªÙØ¹Ù„ Ø§Ù„Ø´Ø®ØµÙŠØ©ØŸ Ù…Ø«Ø§Ù„: ÙŠÙ…Ø´ÙŠØŒ ÙŠØ¬Ù„Ø³ØŒ ÙŠÙ†Ø¸Ø± Ù…Ù† Ø§Ù„Ù†Ø§ÙØ°Ø©ØŒ ÙŠÙ‚Ø§ØªÙ„ØŒ ÙŠÙ‚Ø±Ø£ ÙƒØªØ§Ø¨Ù‹Ø§"></textarea>
</div>
</div>
<!-- ========================== -->
<!-- Section 4: Artistic Style -->
<!-- ========================== -->
<div class="section">
<h2>5. Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙÙ†ÙŠ ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©</h2>
<div class="field">
<label for="artStyle">Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙÙ†:</label>
<div class="input-group">
<input id="artStyle" placeholder="Ù…Ø«Ø§Ù„: ÙˆØ§Ù‚Ø¹ÙŠØŒ Ø§Ù†Ù…ÙŠØŒ ÙƒØ±ØªÙˆÙ†ÙŠØŒ ÙÙ† Ø±Ù‚Ù…ÙŠØŒ Ù„ÙˆØ­Ø© Ø²ÙŠØªÙŠØ©" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('artStyle')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø£Ø³Ù„ÙˆØ¨" type="button">
<span>ğŸ–Œï¸</span> <!-- Emoji for art style -->
</button>
</div>
</div>
<div class="field">
<label for="colorFocus">Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ø²Ø§Ø¬:</label>
<div class="input-group">
<input id="colorFocus" placeholder="Ù…Ø«Ø§Ù„: Ø£Ù„ÙˆØ§Ù† Ø¯Ø§ÙØ¦Ø©ØŒ Ø£Ù„ÙˆØ§Ù† Ø¨Ø§Ø±Ø¯Ø©ØŒ ØªØ¨Ø§ÙŠÙ† Ø¹Ø§Ù„ÙŠØŒ Ø£Ù„ÙˆØ§Ù† Ø¨Ø§Ø³ØªÙŠÙ„ØŒ Ù…Ø²Ø§Ø¬ ØºØ§Ù…Ø¶" type="text"/>
<button class="suggest-btn" onclick="showSuggestions('colorFocus')" title="Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù†" type="button">
<span>ğŸŒˆ</span> <!-- Emoji for color focus -->
</button>
</div>
</div>
<div class="field">
<label for="detailLevel">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙØ§ØµÙŠÙ„:</label>
<select id="detailLevel">
<option disabled="" selected="" value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ --</option>
<option value="very high detail">Ø¹Ø§Ù„ÙŠ Ø¬Ø¯Ø§Ù‹</option>
<option value="high detail">Ø¹Ø§Ù„ÙŠ</option>
<option value="medium detail">Ù…ØªÙˆØ³Ø·</option>
<option value="low detail">Ù…Ù†Ø®ÙØ¶</option>
<option value="simple">Ø¨Ø³ÙŠØ·</option>
</select>
</div>
<div class="field">
<label for="qualityTags">Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø¬ÙˆØ¯Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
<input id="qualityTags" placeholder="Ù…Ø«Ø§Ù„: masterpiece, best quality, 4k, sharp focus" type="text"/>
</div>
</div>
<!-- ========================== -->
<!-- Buttons -->
<!-- ========================== -->
<div class="buttons">
<button onclick="loadTemplate('hero')" title="ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ù„Ø¨ Ø¨Ø·Ù„" type="button">ğŸ¦¸ Ø¨Ø·Ù„</button>
<button onclick="loadTemplate('villain')" title="ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ù„Ø¨ Ø´Ø±ÙŠØ±" type="button">ğŸ¦¹ Ø´Ø±ÙŠØ±</button>
<button onclick="loadTemplate('princess')" title="ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ù„Ø¨ Ø£Ù…ÙŠØ±Ø©" type="button">ğŸ‘¸ Ø£Ù…ÙŠØ±Ø©</button>
<button onclick="saveToLocal()" title="Ø­ÙØ¸ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ù…ØªØµÙØ­" type="button">ğŸ’¾ Ø­ÙØ¸</button>
<button onclick="loadFromLocal()" title="Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¢Ø®Ø± Ù†Ù…ÙˆØ°Ø¬ Ù…Ø­ÙÙˆØ¸" type="button">ğŸ”„ Ø§Ø³ØªØ±Ø¬Ø§Ø¹</button>
<button onclick="generatePrompt()" title="Ø¥Ù†Ø´Ø§Ø¡ ÙˆØµÙ ØªÙØµÙŠÙ„ÙŠ" type="button">ğŸ“„ Ø¥Ù†Ø´Ø§Ø¡ ÙˆØµÙ</button>
<button onclick="generateSummary()" title="Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ø®Øµ Ù‚ØµÙŠØ± Ù„Ù„Ø´Ø®ØµÙŠØ©" type="button">ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ø®Øµ</button>
<button onclick="generateOneLine()" title="Ø¥Ù†Ø´Ø§Ø¡ ÙˆØµÙ Ù…Ù† Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ (Ù„Ù€ Stable Diffusion)" type="button">âœ¨ Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ (SD)</button>
<!-- <button type="button" onclick="generateRandom()">Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø´ÙˆØ§Ø¦ÙŠ</button> --> <!-- Removed/Commented out as logic needs review -->
<button onclick="fixShape()" title="Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ…Ø§Øª ØªØ«Ø¨ÙŠØª Ø´ÙƒÙ„ Ø§Ù„Ø´Ø®ØµÙŠØ© Ù„Ù„Ù†Øµ Ø§Ù„Ù†Ø§ØªØ¬" type="button">ğŸ”’ ØªØ«Ø¨ÙŠØª Ø§Ù„Ø´ÙƒÙ„</button><button onclick="fixArtStyle()" title="Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ…Ø§Øª ØªØ«Ø¨ÙŠØª Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙÙ†ÙŠ Ù„Ù„Ù†Øµ Ø§Ù„Ù†Ø§ØªØ¬" type="button">ğŸ¨ ØªØ«Ø¨ÙŠØª Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙÙ†ÙŠ</button><button onclick="fixBackground()" title="Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ…Ø§Øª ØªØ«Ø¨ÙŠØª Ø§Ù„Ø®Ù„ÙÙŠØ© Ù„Ù„Ù†Øµ Ø§Ù„Ù†Ø§ØªØ¬" type="button">ğŸ”’ ØªØ«Ø¨ÙŠØª Ø§Ù„Ø®Ù„ÙÙŠØ©</button><button onclick="copyPrompt()" title="Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø§Ù„Ù†Ø§ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©" type="button">ğŸ“‹ Ù†Ø³Ø®</button>
<button onclick="exportAsTXT()" title="ØªØµØ¯ÙŠØ± Ø§Ù„Ù†Øµ Ø§Ù„Ù†Ø§ØªØ¬ ÙƒÙ…Ù„Ù TXT" type="button">áƒ”áƒ¥áƒ¡ ØªØµØ¯ÙŠØ± TXT</button> <!-- Renamed from PDF -->
<button title="Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„" type="reset">âŒ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
</div>
</form>
<!-- ========================== -->
<!-- Output Area -->
<!-- ========================== -->
<div class="section">
<h2>Ø§Ù„Ù†Øµ Ø§Ù„Ù†Ø§ØªØ¬</h2>
<textarea id="generatedPrompt" placeholder="Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ù†Øµ Ø§Ù„Ù…ÙÙ†Ø´Ø£ Ù‡Ù†Ø§..." readonly="" rows="12"></textarea>
</div>
</div>
<script>
        // Define fields mapping for easier iteration and label lookup
        const fields = {
            name: { label: 'Ø§Ù„Ø§Ø³Ù…', section: 1 },
            age: { label: 'Ø§Ù„Ø¹Ù…Ø±', section: 1 },
            gender: { label: 'Ø§Ù„Ø¬Ù†Ø³', section: 1 },
            bodyType: { label: 'Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø³Ù…', section: 1 },
            expression: { label: 'ØªØ¹Ø¨ÙŠØ± Ø§Ù„ÙˆØ¬Ù‡', section: 1 },
            hairColor: { label: 'Ù„ÙˆÙ† Ø§Ù„Ø´Ø¹Ø±', section: 2 },
            hairStyle: { label: 'ØªØµÙÙŠÙØ© Ø§Ù„Ø´Ø¹Ø±', section: 2 },
            eyeColor: { label: 'Ù„ÙˆÙ† Ø§Ù„Ø¹ÙŠÙ†', section: 2 },
            facialFeatures: { label: 'Ù…Ù„Ø§Ù…Ø­ ÙˆØ¬Ù‡ Ù…Ù…ÙŠØ²Ø©', section: 2 },
            clothingType: { label: 'Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³', section: 3 },
            clothingColor: { label: 'Ù„ÙˆÙ† Ø§Ù„Ù…Ù„Ø§Ø¨Ø³', section: 3 },
            accessories: { label: 'Ø§Ù„Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª', section: 3 },
            location: { label: 'Ø§Ù„Ù…ÙˆÙ‚Ø¹', section: 4 },
            time: { label: 'Ø§Ù„ÙˆÙ‚Øª', section: 4 },
            weather: { label: 'Ø§Ù„Ø·Ù‚Ø³/Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø©', section: 4 },
            actions: { label: 'Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡/Ø§Ù„ÙˆØ¶Ø¹ÙŠØ©', section: 4 },
            artStyle: { label: 'Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙÙ†ÙŠ', section: 5 },
            colorFocus: { label: 'Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ø²Ø§Ø¬', section: 5 },
            detailLevel: { label: 'Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙØ§ØµÙŠÙ„', section: 5 },
            qualityTags: { label: 'Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø¬ÙˆØ¯Ø©', section: 5 }
        };

        // --- Core Prompt Generation Functions ---

        function generatePrompt() {
            let prompt = '';
            for (const id in fields) {
                const element = document.getElementById(id);
                if (element && element.value) {
                    // Use the label from the fields object
                    prompt += `${fields[id].label}: ${element.value.trim()}\n`;
                }
            }
            document.getElementById('generatedPrompt').value = prompt.trim();
        }

        function generateSummary() {
            const name = document.getElementById('name').value.trim();
            const gender = document.getElementById('gender').value;
            const age = document.getElementById('age').value;
            const bodyType = document.getElementById('bodyType').value.trim();
            const artStyle = document.getElementById('artStyle').value.trim();
            const mainAction = document.getElementById('actions').value.trim().split(',')[0]; // Take first action

            let summary = `Ø´Ø®ØµÙŠØ© ${gender || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø© Ø§Ù„Ù‡ÙˆÙŠØ©'} `;
            if (name) summary += ` ØªÙØ¯Ø¹Ù‰ ${name}, `;
            if (age) summary += `ØªØ¨Ù„Øº Ù…Ù† Ø§Ù„Ø¹Ù…Ø± ${age} Ø³Ù†Ø© ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§, `;
            if (bodyType) summary += `Ø°Ø§Øª Ø¨Ù†ÙŠØ© ${bodyType}, `;
            if (mainAction) summary += `ØªØ¸Ù‡Ø± ÙˆÙ‡ÙŠ ${mainAction}. `;
             summary += `Ù…Ø±Ø³ÙˆÙ…Ø© Ø¨Ø£Ø³Ù„ÙˆØ¨ ${artStyle || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}.`;

            document.getElementById('generatedPrompt').value = summary;
        }

        function generateOneLine() {
            // Generate a comma-separated list suitable for Stable Diffusion prompts
            // Prioritize visual elements and style
            const getVal = (id) => document.getElementById(id)?.value.trim() || '';

            const elements = [
                getVal('artStyle'),
                getVal('qualityTags'), // High priority quality tags
                `(${getVal('expression')} expression)`, // Put expression in parenthesis
                getVal('gender') === 'Ø°ÙƒØ±' ? 'man' : getVal('gender') === 'Ø£Ù†Ø«Ù‰' ? 'woman' : '', // Simple gender term
                getVal('age') ? `${getVal('age')} years old` : '',
                getVal('hairStyle'),
                getVal('hairColor') ? `${getVal('hairColor')} hair` : '',
                getVal('eyeColor') ? `${getVal('eyeColor')} eyes` : '',
                getVal('facialFeatures'),
                getVal('clothingType'),
                getVal('clothingColor') ? `${getVal('clothingColor')} clothing` : '',
                getVal('accessories'),
                getVal('bodyType') ? `${getVal('bodyType')} build` : '',
                getVal('actions') ? `(${getVal('actions')})` : '', // Action in parenthesis
                `in a ${getVal('location') || 'location'}`, // Scene context
                `during ${getVal('time') || 'day'}`,
                getVal('weather') ? `${getVal('weather')} atmosphere` : '',
                getVal('colorFocus'),
                getVal('detailLevel')
            ];

            // Filter out empty elements and join with commas
            const oneLine = elements.filter(el => el).join(', ');

            document.getElementById('generatedPrompt').value = oneLine.replace(/, ,/g, ',').replace(/,\s*$/, ''); // Clean up extra commas
        }

        // --- Utility Functions ---

        async function copyPrompt() {
            const textToCopy = document.getElementById('generatedPrompt').value;
            if (!textToCopy) {
                 alert('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Øµ Ù„Ù†Ø³Ø®Ù‡!');
                 return;
            }
            try {
                await navigator.clipboard.writeText(textToCopy);
                alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø© Ø¨Ù†Ø¬Ø§Ø­!');
            } catch (err) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©: ', err);
                // Fallback for older browsers (less reliable)
                try {
                    const promptTextarea = document.getElementById('generatedPrompt');
                    promptTextarea.select();
                    document.execCommand('copy');
                    alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø© (Fallback).');
                } catch (fallbackErr) {
                     console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø³Ø® (Fallback): ', fallbackErr);
                     alert('ÙØ´Ù„ Ù†Ø³Ø® Ø§Ù„Ù†Øµ. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠÙ‹Ø§.');
                }
            }
        }

        function exportAsTXT() { // Renamed from exportAsPDF
            const content = document.getElementById('generatedPrompt').value;
             if (!content) {
                 alert('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Øµ Ù„ØªØµØ¯ÙŠØ±Ù‡!');
                 return;
            }
            const filename = "character_prompt.txt";
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const link = document.createElement('a');

            link.href = URL.createObjectURL(blob);
            link.download = filename;
            link.style.display = 'none';

            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(link.href); // Clean up blob URL
        }

        // --- Template Loading ---
        const templates = {
            hero: {
                name: 'Ø¨Ø·Ù„ Ø§Ù„Ù‚ØµØ©', gender: 'Ø°ÙƒØ±', age: '30', bodyType: 'Ø±ÙŠØ§Ø¶ÙŠ', hairColor: 'Ø¨Ù†ÙŠ Ø¯Ø§ÙƒÙ†', hairStyle: 'Ù‚ØµÙŠØ± ÙˆÙ…Ø±ØªØ¨', eyeColor: 'Ø¨Ù†ÙŠ', expression: 'ÙˆØ§Ø«Ù‚ ÙˆØ­Ø§Ø²Ù…', clothingType: 'Ø²ÙŠ Ø¬Ù„Ø¯ÙŠ Ø£Ùˆ Ø¯Ø±Ø¹ Ø®ÙÙŠÙ', clothingColor: 'Ø£Ù„ÙˆØ§Ù† Ø£Ø±Ø¶ÙŠØ© (Ø¨Ù†ÙŠ, Ø£Ø®Ø¶Ø±)', accessories: 'Ø³ÙŠÙ Ø£Ùˆ Ù‚ÙˆØ³', location: 'Ù‚Ù„Ø¹Ø© Ù‚Ø¯ÙŠÙ…Ø© Ø£Ùˆ ØºØ§Ø¨Ø©', time: 'Ø§Ù„Ù†Ù‡Ø§Ø±', weather: 'Ù…Ø´Ù…Ø³ Ø£Ùˆ ØºØ§Ø¦Ù… Ø¬Ø²Ø¦ÙŠØ§Ù‹', actions: 'ÙŠÙ‚Ù Ø¨ÙˆÙ‚ÙØ© Ø§Ø³ØªØ¹Ø¯Ø§Ø¯', artStyle: 'ÙˆØ§Ù‚Ø¹ÙŠ', colorFocus: 'Ø£Ù„ÙˆØ§Ù† Ø·Ø¨ÙŠØ¹ÙŠØ© Ù…Ø¹ ØªØ¨Ø§ÙŠÙ†', detailLevel: 'high detail', qualityTags: 'best quality, sharp focus'
            },
            villain: {
                name: 'Ø§Ù„Ø´Ø±ÙŠØ± Ø§Ù„ØºØ§Ù…Ø¶', gender: 'Ø°ÙƒØ±', age: '50', bodyType: 'Ù†Ø­ÙŠÙ ÙˆØ·ÙˆÙŠÙ„', hairColor: 'Ø£Ø³ÙˆØ¯ Ø£Ùˆ Ø±Ù…Ø§Ø¯ÙŠ', hairStyle: 'Ø·ÙˆÙŠÙ„ ÙˆØºÙŠØ± Ù…Ø±ØªØ¨', eyeColor: 'Ø£Ø­Ù…Ø± Ø£Ùˆ Ø£Ø³ÙˆØ¯', expression: 'Ù…Ø§ÙƒØ± ÙˆÙ…Ø¨ØªØ³Ù… Ø¨Ø¨Ø±ÙˆØ¯', facialFeatures: 'Ù†Ø¯Ø¨Ø© Ø£Ùˆ Ø¨Ø´Ø±Ø© Ø´Ø§Ø­Ø¨Ø©', clothingType: 'Ø¹Ø¨Ø§Ø¡Ø© Ø³ÙˆØ¯Ø§Ø¡ Ø·ÙˆÙŠÙ„Ø© Ø£Ùˆ Ø¨Ø¯Ù„Ø© Ø¯Ø§ÙƒÙ†Ø©', clothingColor: 'Ø£Ø³ÙˆØ¯, Ø±Ù…Ø§Ø¯ÙŠ, Ø¨Ù†ÙØ³Ø¬ÙŠ Ø¯Ø§ÙƒÙ†', accessories: 'Ø¹ØµØ§ Ø³Ø­Ø±ÙŠØ© Ø£Ùˆ Ø®Ù†Ø¬Ø±', location: 'ÙƒÙ‡Ù Ù…Ø¸Ù„Ù… Ø£Ùˆ Ù‚ØµØ± Ù…Ù‡Ø¬ÙˆØ±', time: 'Ø§Ù„Ù„ÙŠÙ„', weather: 'Ø¹Ø§ØµÙ Ø£Ùˆ Ø¶Ø¨Ø§Ø¨ÙŠ, Ø¥Ø¶Ø§Ø¡Ø© Ø®Ø§ÙØªØ©', actions: 'ÙŠØ¬Ù„Ø³ Ø¹Ù„Ù‰ Ø¹Ø±Ø´ Ø£Ùˆ ÙŠØ®ØªØ¨Ø¦ ÙÙŠ Ø§Ù„Ø¸Ù„', artStyle: 'ÙÙ† Ø±Ù‚Ù…ÙŠ Ø£Ùˆ Ù‚ÙˆØ·ÙŠ', colorFocus: 'Ø£Ù„ÙˆØ§Ù† Ø¨Ø§Ø±Ø¯Ø© ÙˆÙ…Ø¸Ù„Ù…Ø©', detailLevel: 'medium detail', qualityTags: 'dramatic lighting'
            },
            princess: {
                name: 'Ø§Ù„Ø£Ù…ÙŠØ±Ø© Ù„ÙŠÙ„Ù‰', gender: 'Ø£Ù†Ø«Ù‰', age: '20', bodyType: 'Ø±Ø´ÙŠÙ‚Ø© ÙˆÙ†Ø§Ø¹Ù…Ø©', hairColor: 'Ø£Ø´Ù‚Ø± Ø°Ù‡Ø¨ÙŠ', hairStyle: 'Ø·ÙˆÙŠÙ„ ÙˆÙ…Ù…ÙˆØ¬ Ù…Ø¹ Ø¶ÙÙŠØ±Ø©', eyeColor: 'Ø£Ø²Ø±Ù‚ Ø³Ù…Ø§ÙˆÙŠ', expression: 'Ù„Ø·ÙŠÙØ© ÙˆØ¨Ø±ÙŠØ¦Ø© Ø£Ùˆ Ø­Ø§Ù„Ù…Ø©', clothingType: 'ÙØ³ØªØ§Ù† Ø£Ù†ÙŠÙ‚ ÙˆÙˆØ§Ø³Ø¹', clothingColor: 'Ø£Ù„ÙˆØ§Ù† ÙØ§ØªØ­Ø© (Ø£Ø¨ÙŠØ¶, ÙˆØ±Ø¯ÙŠ, Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­)', accessories: 'ØªØ§Ø¬ ØµØºÙŠØ±ØŒ Ù‚Ù„Ø§Ø¯Ø©ØŒ Ø²Ù‡ÙˆØ± ÙÙŠ Ø§Ù„Ø´Ø¹Ø±', location: 'Ø­Ø¯ÙŠÙ‚Ø© Ù‚ØµØ± Ø£Ùˆ Ø´Ø±ÙØ© ØªØ·Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¬ÙˆÙ…', time: 'Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ø¨Ø§ÙƒØ± Ø£Ùˆ Ø§Ù„Ù…Ø³Ø§Ø¡', weather: 'ØµØ§ÙÙŠ Ùˆ Ù…Ø´Ù…Ø³ Ø£Ùˆ Ø³Ù…Ø§Ø¡ Ù„ÙŠÙ„ÙŠØ© Ù…Ø±ØµØ¹Ø© Ø¨Ø§Ù„Ù†Ø¬ÙˆÙ…', actions: 'ØªÙ‚Ù Ø¨Ø¬Ø§Ù†Ø¨ Ù†Ø§ÙØ°Ø© Ø£Ùˆ ØªØ¬Ù„Ø³ ÙÙŠ Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø©', artStyle: 'Ø§Ù†Ù…ÙŠ Ø£Ùˆ Ø´Ø¨Ù‡ ÙˆØ§Ù‚Ø¹ÙŠ', colorFocus: 'Ø£Ù„ÙˆØ§Ù† Ø¨Ø§Ø³ØªÙŠÙ„ Ù†Ø§Ø¹Ù…Ø©', detailLevel: 'high detail', qualityTags: 'beautiful detailed eyes, soft lighting'
            }
        };

        function loadTemplate(templateName) {
            const template = templates[templateName];
            if (!template) return;

            // Clear existing values first (optional, but good practice)
            // document.getElementById('characterForm').reset();

            for (const fieldId in template) {
                const element = document.getElementById(fieldId);
                if (element) {
                    element.value = template[fieldId];
                }
            }
            generateOneLine(); // Generate SD prompt after loading template
        }

        // --- Local Storage ---
        function saveToLocal() {
            const formData = {};
            for (const id in fields) {
                const element = document.getElementById(id);
                if (element) { // Save even if empty to restore blank state
                    formData[id] = element.value;
                }
            }
            try {
                 localStorage.setItem('characterFormData', JSON.stringify(formData));
                 alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­.');
            } catch (e) {
                 console.error("Error saving to local storage:", e);
                 alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. Ù‚Ø¯ ØªÙƒÙˆÙ† Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ù…Ù…ØªÙ„Ø¦Ø©.');
            }
        }

        function loadFromLocal() {
            try {
                const savedData = localStorage.getItem('characterFormData');
                if (!savedData) {
                    alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§.');
                    return;
                }
                const formData = JSON.parse(savedData);
                for (const id in formData) {
                    const element = document.getElementById(id);
                    if (element) {
                        element.value = formData[id];
                    }
                }
                 generateOneLine(); // Update prompt after loading
                 alert('ØªÙ… Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø¨Ù†Ø¬Ø§Ø­.');
            } catch (e) {
                 console.error("Error loading from local storage:", e);
                 alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.');
                 // Optionally clear corrupted data: localStorage.removeItem('characterFormData');
            }
        }

        // --- Suggestions Logic ---
         const aiSuggestions = {
            name: {
                'Ø°ÙƒØ±': ['Ø®Ø§Ù„Ø¯', 'Ø£Ù…ÙŠØ±', 'Ø±ÙŠØ§Ù†', 'ÙØ§Ø±Ø³', 'Ø·Ø§Ø±Ù‚', 'Ø¹Ù…Ø±', 'ÙŠØ§Ø³ÙŠÙ†', 'Ø¨Ø¯Ø±', 'Ø±Ø§ÙƒØ§Ù†', 'Ø¬ÙˆØ§Ø¯'],
                'Ø£Ù†Ø«Ù‰': ['Ù†ÙˆØ±', 'Ù„ÙŠØ§Ù†', 'Ø³Ø§Ø±Ø©', 'ÙŠØ§Ø³Ù…ÙŠÙ†', 'Ø±ÙŠÙ…', 'Ø¯ÙŠÙ…Ø§', 'Ù„Ø§Ù†Ø§', 'Ø­Ù„Ø§', 'Ø¬Ù†Ù‰', 'Ù…ÙŠØ±Ø§']
            },
             bodyType: ['Ø±ÙŠØ§Ø¶ÙŠ', 'Ù†Ø­ÙŠÙ', 'Ù…Ù…ØªÙ„Ø¦', 'Ø¶Ø®Ù…', 'Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¨Ù†ÙŠØ©', 'Ù‚ØµÙŠØ±', 'Ø·ÙˆÙŠÙ„ Ø§Ù„Ù‚Ø§Ù…Ø©'],
             expression: ['Ø³Ø¹ÙŠØ¯', 'Ø­Ø²ÙŠÙ†', 'ØºØ§Ø¶Ø¨', 'Ù…ØªÙØ§Ø¬Ø¦', 'Ù‡Ø§Ø¯Ø¦', 'Ù…ÙÙƒØ±', 'ÙˆØ§Ø«Ù‚', 'Ø®Ø§Ø¦Ù', 'Ù…Ø¨ØªØ³Ù…', 'Ø¹Ø§Ø¨Ø³'],
             hairColor: ['Ø£Ø³ÙˆØ¯ ÙØ­Ù…ÙŠ', 'Ø¨Ù†ÙŠ Ø¯Ø§ÙƒÙ†', 'Ø¨Ù†ÙŠ Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©', 'Ø¨Ù†ÙŠ ÙØ§ØªØ­', 'Ø£Ø´Ù‚Ø± Ø°Ù‡Ø¨ÙŠ', 'Ø£Ø´Ù‚Ø± Ø¨Ù„Ø§ØªÙŠÙ†ÙŠ', 'Ø£Ø­Ù…Ø± Ù†Ø­Ø§Ø³ÙŠ', 'Ø±Ù…Ø§Ø¯ÙŠ ÙØ¶ÙŠ', 'Ø£Ø¨ÙŠØ¶ Ø«Ù„Ø¬ÙŠ', 'Ø£Ø²Ø±Ù‚ Ø¯Ø§ÙƒÙ† (Ø®ÙŠØ§Ù„)', 'ÙˆØ±Ø¯ÙŠ ÙØ§ØªØ­ (Ø®ÙŠØ§Ù„)'],
             hairStyle: ['Ø·ÙˆÙŠÙ„ ÙˆÙ…Ù…ÙˆØ¬', 'Ø·ÙˆÙŠÙ„ ÙˆØ£Ù…Ù„Ø³', 'Ù‚ØµÙŠØ± ÙˆÙ…Ø¨Ø¹Ø«Ø±', 'Ù‚ØµÙŠØ± ÙˆÙ…Ø±ØªØ¨', 'Ø£ØµÙ„Ø¹', 'Ø°ÙŠÙ„ Ø­ØµØ§Ù†', 'Ø¶ÙØ§Ø¦Ø±', 'Ù…Ø¬Ø¯ÙˆÙ„', 'Ù…Ø±ÙÙˆØ¹ (ÙƒØ¹ÙƒØ©)', 'Ù…ØªÙˆØ³Ø· Ø§Ù„Ø·ÙˆÙ„'],
             eyeColor: ['Ø¨Ù†ÙŠ ØºØ§Ù…Ù‚', 'Ø£Ø³ÙˆØ¯', 'Ø£Ø²Ø±Ù‚ Ø³Ù…Ø§ÙˆÙŠ', 'Ø£Ø®Ø¶Ø± Ø²Ù…Ø±Ø¯ÙŠ', 'Ø¹Ø³Ù„ÙŠ ÙØ§ØªØ­', 'Ø±Ù…Ø§Ø¯ÙŠ', 'Ø¨Ù†ÙØ³Ø¬ÙŠ (Ø®ÙŠØ§Ù„)', 'Ø£Ø­Ù…Ø± (Ø®ÙŠØ§Ù„)'],
             clothingType: {
                'Ø°ÙƒØ±': ['Ø¨Ø¯Ù„Ø© Ø±Ø³Ù…ÙŠØ©', 'Ù‚Ù…ÙŠØµ ÙˆØ¨Ù†Ø·Ù„ÙˆÙ† Ø¬ÙŠÙ†Ø²', 'Ø«ÙˆØ¨ Ø¹Ø±Ø¨ÙŠ ØªÙ‚Ù„ÙŠØ¯ÙŠ', 'Ø²ÙŠ Ù…Ø­Ø§Ø±Ø¨ Ù‚Ø¯ÙŠÙ…', 'Ø³ØªØ±Ø© Ø¬Ù„Ø¯ÙŠØ©', 'Ù…Ù„Ø§Ø¨Ø³ Ø±ÙŠØ§Ø¶ÙŠØ©', 'Ù…Ø¹Ø·Ù Ø·ÙˆÙŠÙ„', 'Ø±Ø¯Ø§Ø¡ ÙƒÙ‡Ù†ÙˆØªÙŠ'],
                'Ø£Ù†Ø«Ù‰': ['ÙØ³ØªØ§Ù† Ø³Ù‡Ø±Ø©', 'ØªÙ†ÙˆØ±Ø© ÙˆØ¨Ù„ÙˆØ²Ø©', 'Ø¹Ø¨Ø§Ø¡Ø© Ù…Ø·Ø±Ø²Ø©', 'Ø²ÙŠ Ù…Ø­Ø§Ø±Ø¨Ø©', 'Ø¨Ù†Ø·Ù„ÙˆÙ† ÙˆØ³ØªØ±Ø©', 'Ù…Ù„Ø§Ø¨Ø³ Ø±ÙŠØ§Ø¶ÙŠØ©', 'ÙØ³ØªØ§Ù† Ø¨Ø³ÙŠØ·', 'Ù‚ÙØ·Ø§Ù†']
             },
             clothingColor: ['Ø£Ø­Ù…Ø±', 'Ø£Ø²Ø±Ù‚', 'Ø£Ø®Ø¶Ø±', 'Ø£Ø³ÙˆØ¯', 'Ø£Ø¨ÙŠØ¶', 'Ø±Ù…Ø§Ø¯ÙŠ', 'Ø¨Ù†ÙŠ', 'Ø£ØµÙØ±', 'Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ', 'Ø¨Ù†ÙØ³Ø¬ÙŠ', 'ÙˆØ±Ø¯ÙŠ', 'Ø°Ù‡Ø¨ÙŠ', 'ÙØ¶ÙŠ'],
             location: ['ØºØ§Ø¨Ø© Ø³Ø­Ø±ÙŠØ©', 'Ù…Ø¯ÙŠÙ†Ø© Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©', 'ØµØ­Ø±Ø§Ø¡ Ø´Ø§Ø³Ø¹Ø©', 'Ø¬Ø¨Ø§Ù„ Ø«Ù„Ø¬ÙŠØ©', 'Ù‚ØµØ± ÙØ®Ù…', 'Ù…ÙƒØªØ¨Ø© Ù‚Ø¯ÙŠÙ…Ø©', 'Ø³ÙˆÙ‚ Ø´Ø¹Ø¨ÙŠ', 'Ø³ÙÙŠÙ†Ø© ÙØ¶Ø§Ø¦ÙŠØ©', 'Ø´Ø§Ø·Ø¦ Ø§Ø³ØªÙˆØ§Ø¦ÙŠ', 'Ø¨Ø±ÙƒØ§Ù† Ù†Ø´Ø·'],
             time: ['ØµØ¨Ø§Ø­ Ø¨Ø§ÙƒØ± Ù…Ø¹ Ø´Ø±ÙˆÙ‚ Ø§Ù„Ø´Ù…Ø³', 'Ù…Ù†ØªØµÙ Ø§Ù„Ù†Ù‡Ø§Ø± Ø§Ù„Ø­Ø§Ø±', 'Ø¨Ø¹Ø¯ Ø§Ù„Ø¸Ù‡ÙŠØ±Ø© Ø§Ù„Ù‡Ø§Ø¯Ø¦', 'ØºØ±ÙˆØ¨ Ø§Ù„Ø´Ù…Ø³ Ø¨Ø£Ù„ÙˆØ§Ù†Ù‡ Ø§Ù„Ø¯Ø§ÙØ¦Ø©', 'Ø§Ù„Ù…Ø³Ø§Ø¡ Ø§Ù„Ø¨Ø§ÙƒØ±', 'Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‚Ù…Ø±', 'Ø§Ù„ÙØ¬Ø±'],
             weather: ['Ù…Ø´Ù…Ø³ ÙˆØµØ§ÙÙŠ', 'ØºØ§Ø¦Ù… Ø¬Ø²Ø¦ÙŠØ§Ù‹', 'Ù…Ù…Ø·Ø± Ø¨ØºØ²Ø§Ø±Ø©', 'Ø¹Ø§ØµÙØ© Ø±Ø¹Ø¯ÙŠØ©', 'Ø«Ù„Ø¬ ÙŠØªØ³Ø§Ù‚Ø·', 'Ø¶Ø¨Ø§Ø¨ ÙƒØ«ÙŠÙ', 'Ø±ÙŠØ§Ø­ Ù‚ÙˆÙŠØ©', 'Ø­Ø§Ø± ÙˆØ¬Ø§Ù', 'Ø¨Ø§Ø±Ø¯ ÙˆÙ…Ù†Ø¹Ø´', 'Ø¥Ø¶Ø§Ø¡Ø© Ø´Ù…Ø³ Ù‚ÙˆÙŠØ©', 'Ø¥Ø¶Ø§Ø¡Ø© Ø®Ø§ÙØªØ© ÙˆØºØ§Ù…Ø¶Ø©', 'Ø¶ÙˆØ¡ Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ø³Ø§Ø·Ø¹'],
             artStyle: ['ÙˆØ§Ù‚Ø¹ÙŠ (Photorealistic)', 'Ø´Ø¨Ù‡ ÙˆØ§Ù‚Ø¹ÙŠ (Semi-Realistic)', 'Ø§Ù†Ù…ÙŠ (Anime)', 'ÙƒØ±ØªÙˆÙ†ÙŠ (Cartoon)', 'ÙÙ† Ø±Ù‚Ù…ÙŠ (Digital Art)', 'Ù„ÙˆØ­Ø© Ø²ÙŠØªÙŠØ© (Oil Painting)', 'Ø£Ù„ÙˆØ§Ù† Ù…Ø§Ø¦ÙŠØ© (Watercolor)', 'ÙÙ†ØªØ§Ø²ÙŠØ§ (Fantasy Art)', 'Ø®ÙŠØ§Ù„ Ø¹Ù„Ù…ÙŠ (Sci-Fi Art)', 'Ø³Ø§ÙŠØ¨Ø±Ø¨Ø§Ù†Ùƒ (Cyberpunk)', 'ÙÙŠÙƒØªÙˆØ±ÙŠ (Victorian)'],
             colorFocus: ['Ø£Ù„ÙˆØ§Ù† Ø¯Ø§ÙØ¦Ø© (Ø£Ø­Ù…Ø±, Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ, Ø£ØµÙØ±)', 'Ø£Ù„ÙˆØ§Ù† Ø¨Ø§Ø±Ø¯Ø© (Ø£Ø²Ø±Ù‚, Ø£Ø®Ø¶Ø±, Ø¨Ù†ÙØ³Ø¬ÙŠ)', 'Ø£Ù„ÙˆØ§Ù† Ù…Ø­Ø§ÙŠØ¯Ø© (Ø£Ø¨ÙŠØ¶, Ø£Ø³ÙˆØ¯, Ø±Ù…Ø§Ø¯ÙŠ, Ø¨Ù†ÙŠ)', 'Ø£Ù„ÙˆØ§Ù† Ø¨Ø§Ø³ØªÙŠÙ„ Ù†Ø§Ø¹Ù…Ø©', 'ØªØ¨Ø§ÙŠÙ† Ù„ÙˆÙ†ÙŠ Ø¹Ø§Ù„ÙŠ', 'Ø£Ù„ÙˆØ§Ù† Ø²Ø§Ù‡ÙŠØ© ÙˆÙ…Ø´Ø±Ù‚Ø©', 'Ø£Ù„ÙˆØ§Ù† Ø¨Ø§Ù‡ØªØ© ÙˆÙ‚Ø¯ÙŠÙ…Ø©', 'Ù„ÙˆÙ† ÙˆØ§Ø­Ø¯ Ø³Ø§Ø¦Ø¯ (Monochromatic)', 'Ø¥Ø¶Ø§Ø¡Ø© Ø¯Ø±Ø§Ù…ÙŠØ©', 'Ù…Ø²Ø§Ø¬ ØºØ§Ù…Ø¶ ÙˆÙ…Ø¸Ù„Ù…']
         };

         function showSuggestions(fieldId) {
            const inputElement = document.getElementById(fieldId);
            const inputGroup = inputElement.closest('.input-group'); // Find the parent group
            if (!inputElement || !inputGroup) return;

            const gender = document.getElementById('gender')?.value; // Get gender if exists

            // --- Remove any existing suggestion box ---
            const existingBox = inputGroup.querySelector('.suggestions');
            if (existingBox) {
                existingBox.remove();
            }

            // --- Get suggestions ---
            let rawSuggestions = [];
            const suggestionSource = aiSuggestions[fieldId];

            if (typeof suggestionSource === 'object' && !Array.isArray(suggestionSource)) {
                // Handle gender-specific suggestions (like name, clothingType)
                 if (!gender || gender === 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯') {
                    // Combine suggestions if no gender or 'unspecified'
                     rawSuggestions = Object.values(suggestionSource).flat();
                 } else {
                     rawSuggestions = suggestionSource[gender] || [];
                 }
            } else if (Array.isArray(suggestionSource)) {
                // Handle simple array suggestions
                rawSuggestions = suggestionSource;
            }

            if (rawSuggestions.length === 0) {
                 console.log(`No suggestions found for ${fieldId}`);
                return; // Silently return if no suggestions
            }

             // --- Create and Populate Suggestion Box ---
             const suggestionBox = document.createElement('div');
             suggestionBox.className = 'suggestions';

             // Shuffle and take top 5-7 suggestions
             const suggestionsToShow = rawSuggestions
                .sort(() => 0.5 - Math.random()) // Shuffle array
                .slice(0, 7); // Limit number of suggestions

            suggestionsToShow.forEach(suggestion => {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                item.textContent = suggestion;
                item.onclick = (e) => {
                    e.stopPropagation(); // Prevent click bubbling to document listener
                    inputElement.value = suggestion;
                    suggestionBox.remove();
                    // Optionally trigger change event if needed by other logic
                    // inputElement.dispatchEvent(new Event('change'));
                };
                suggestionBox.appendChild(item);
            });

             // --- Append Suggestion Box ---
             inputGroup.appendChild(suggestionBox); // Append inside the group
         }

         // --- Close suggestions when clicking outside ---
         document.addEventListener('click', (event) => {
             // Check if the click was outside *any* input group that currently has a suggestion box
             const openSuggestionBox = document.querySelector('.suggestions');
             if (openSuggestionBox && !openSuggestionBox.closest('.input-group')?.contains(event.target)) {
                openSuggestionBox.remove();
             }
         }, true); // Use capture phase to catch clicks reliably

         // --- Initial setup ---
         // Add `for` attributes to labels dynamically if missing (optional improvement)
        /*
         document.addEventListener('DOMContentLoaded', () => {
             document.querySelectorAll('.field').forEach(fieldDiv => {
                 const label = fieldDiv.querySelector('label');
                 const input = fieldDiv.querySelector('input, select, textarea');
                 if (label && input && !label.hasAttribute('for') && input.id) {
                     label.setAttribute('for', input.id);
                 }
             });
         });
         */

    

        // ***** Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„Ø´ÙƒÙ„ *****
        function fixShape() {
            const promptTextarea = document.getElementById('generatedPrompt');
            if (!promptTextarea) {
                console.error("Error: Output textarea 'generatedPrompt' not found.");
                alert("Ø®Ø·Ø£: Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù†Øµ Ø§Ù„Ù†Ø§ØªØ¬.");
                return;
            }

            let currentPrompt = promptTextarea.value.trim();

            if (!currentPrompt) {
                alert("ÙŠØ±Ø¬Ù‰ Ø¥Ù†Ø´Ø§Ø¡ Ù†Øµ Ø£ÙˆÙ„Ø§Ù‹ (Ø¹Ø¨Ø± 'Ø¥Ù†Ø´Ø§Ø¡ ÙˆØµÙ' Ø£Ùˆ 'Ø³Ø·Ø± ÙˆØ§Ø­Ø¯') Ù‚Ø¨Ù„ Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ«Ø¨ÙŠØª Ø§Ù„Ø´ÙƒÙ„.");
                return;
            }

            const fixShapePhrase = "Ø«Ø§Ø¨Øª Ø§Ù„Ø´ÙƒÙ„ ÙÙŠ ÙƒÙ„ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ØŒ Ù†ÙØ³ Ø§Ù„Ø´Ø®ØµÙŠØ© ØªÙ…Ø§Ù…Ù‹Ø§ØŒ Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ù…Ù„Ø§Ù…Ø­ ÙˆØ§Ù„Ù…Ù„Ø§Ø¨Ø³ ÙˆØ§Ù„ØªÙØ§ØµÙŠÙ„ Ø¨Ø¯Ù‚Ø©.";

            if (currentPrompt.includes(fixShapePhrase)) {
                alert("ØªØ¹Ù„ÙŠÙ…Ø§Øª ØªØ«Ø¨ÙŠØª Ø§Ù„Ø´ÙƒÙ„ Ù…Ø¶Ø§ÙØ© Ø¨Ø§Ù„ÙØ¹Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù†Øµ.");
                return;
            }

            const updatedPrompt = currentPrompt + "\n\n" + fixShapePhrase;
            promptTextarea.value = updatedPrompt;
        }
        // ***** Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© *****


        function fixBackground() {
            const promptTextarea = document.getElementById('generatedPrompt');
            if (!promptTextarea) return alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù†Øµ Ø§Ù„Ù†Ø§ØªØ¬.");

            let currentPrompt = promptTextarea.value.trim();
            if (!currentPrompt) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ù†Ø´Ø§Ø¡ Ù†Øµ Ø£ÙˆÙ„Ø§Ù‹ Ù‚Ø¨Ù„ Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ«Ø¨ÙŠØª Ø§Ù„Ø®Ù„ÙÙŠØ©.");

            const phrase = "Ø§Ù„Ø®Ù„ÙÙŠØ© Ø«Ø§Ø¨ØªØ© ÙÙŠ ÙƒÙ„ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ØŒ ÙŠØ¬Ø¨ Ø£Ù† ØªØ¨Ù‚Ù‰ Ù…ØªØ·Ø§Ø¨Ù‚Ø© Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø¹Ù†Ø§ØµØ± ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹.";
            if (!currentPrompt.includes(phrase)) {
                promptTextarea.value += "\n\n" + phrase;
            } else {
                alert("ØªØ¹Ù„ÙŠÙ…Ø§Øª ØªØ«Ø¨ÙŠØª Ø§Ù„Ø®Ù„ÙÙŠØ© Ù…Ø¶Ø§ÙØ© Ø¨Ø§Ù„ÙØ¹Ù„.");
            }
        }

        function fixArtStyle() {
            const promptTextarea = document.getElementById('generatedPrompt');
            if (!promptTextarea) return alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù†Øµ Ø§Ù„Ù†Ø§ØªØ¬.");

            let currentPrompt = promptTextarea.value.trim();
            if (!currentPrompt) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ù†Ø´Ø§Ø¡ Ù†Øµ Ø£ÙˆÙ„Ø§Ù‹ Ù‚Ø¨Ù„ Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ«Ø¨ÙŠØª Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙÙ†ÙŠ.");

            const phrase = "Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙÙ†ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ù‚Ù‰ Ø«Ø§Ø¨ØªÙ‹Ø§ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ØŒ Ø¨Ù†ÙØ³ Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ§Ù„ØªÙØ§ØµÙŠÙ„ ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†.";
            if (!currentPrompt.includes(phrase)) {
                promptTextarea.value += "\n\n" + phrase;
            } else {
                alert("ØªØ¹Ù„ÙŠÙ…Ø§Øª ØªØ«Ø¨ÙŠØª Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙÙ†ÙŠ Ù…Ø¶Ø§ÙØ© Ø¨Ø§Ù„ÙØ¹Ù„.");
            }
        }
</script>
</body>
</html>